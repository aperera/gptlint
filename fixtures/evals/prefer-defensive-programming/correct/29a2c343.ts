// Validate external data with schema validation
import Ajv, { JSONSchemaType } from 'ajv'

interface Person {
  name: string
  age: number
}

const personSchema: JSONSchemaType<Person> = {
  type: 'object',
  properties: {
    name: { type: 'string' },
    age: { type: 'number' }
  },
  required: ['name', 'age'],
  additionalProperties: false
}

const ajv = new Ajv()
const validatePerson = ajv.compile(personSchema)

function processPerson(data: unknown) {
  if (validatePerson(data)) {
    console.log('Valid person data:', data)
  } else {
    console.error('Invalid person data', validatePerson.errors)
  }
}
// This adheres to defensive programming by validating data against a schema before processing.

// Generated by gpt-4-0125-preview
